Библиотека NEW

    Звуковая индикация

 BEEP(x,y)
    Издает звуковой сигнал тоном x длительностью y. Если параметры
    не заданы, то по умолчанию издается сигнал частотой 100 Гц
    длительностью 2с.Возвращает всегда T.
 BEEPERR(var1,var2,var3,var4)
    Издает 1-й звуковой сигнал тоном var1 длительностью var2, а затем
    2-й звуковой сигнал тоном var3 длительностью var4. Если параметры
    не заданы, то по умолчанию издается 1-й сигнал частотой 300 Гц
    длительностью 4с, а 2-й частотой 100 Гц длительностью 2с.Возвра-
    щает всегда T.
 SETBEEP(var)
    Включает звуковую индикацию (var==.t.) или отключает ее (var==.f.)
    Возвращает текущее значение звуковой индикации.
 SETBEEPMSG(x,y)
    Задает параметры по умолчанию для BEEP.Возвращает T, если параметры
    установлены, F в противном случае.
 SETERRBEEPMSG(x,y)
    Задает параметры по умолчанию для BEEPERR..Возвращает T, если
    параметры установлены, F в противном случае.

    Вывод сообщений

 DELMESSAGE(var)
    Удаляет с экрана объект var, предварительно созданный
    DISPMESSAG.
 DISPMESSAG(str,clr,bell)
    Выводит на экран отцентрированную строку str, в окне. Цвет
    окна задается 1-м цветом clr, цвет сообщения 2-м цветом clr.
    Параметр bell, в значении T, вызывает звуковую индикацию
    BeepErr(), в значении F, вызывает звуковую индикацию Beep().
    При отсутствии параметра звуковая индикация не производится.
    По умолчанию используется цвет "N/BG,N/BG".Возвращает объект
    "окно сообщений".
 DISPTEXT(str,clr)
    Выводит на экран в текущей позиции строку str цветами clr.
    Возвращает всегда T.
 DISPMENU(x,y,str,clr)
    Выводит на экран в позиции x,y строку str 1-м цветом clr.
    Букву перед которой идет знак "~" выводится 2-м цветом.
    По умолчанию 1-й цвет - "n/w", 2-й цвет - "r/w".Возвращает
    всегда T.
 WAITMESSAG(str,clr,bell)
    Выводит на экран отцентрированную строку str, в окне и
    ожидает нажатия пользователем любой клавиши. Цвет окна задается
    1-м цветом clr, цвет сообщения 2-м цветом clr. Параметр bell, в
    значении T, вызывает звуковую индикацию BeepErr(), в значении F,
    вызывает звуковую индикацию Beep(). При отсутствии параметра
    звуковая индикация не производится. По умолчанию используется
    цвета "N/BG,N/BG".Возвращает код нажатой клавиши.
 SETCLRMSG(clr)
    Задает значение clr , используемое по умолчанию в WaitMessag() и
    DispMessag(). Возвращает используемое значение clr.
 SHADOW( top,left,bottom,right,clr)
    Рисует тень окна заданного координатами  top,left,bottom,right.
    Цвет тени задается параметром clr, по умолчанию серый на черном.
    Возвращает всегда T.

    Вывод индикаторов

 DELGAUGE(m_gauge)
    Удаляет индикатор m_gauge с экрана.Возвращает всегда T.
 DELSCROLL(m_scroll)
    Удаляет индикатор m_scroll с экрана.Возвращает всегда T.
 DISPGAUGE(m_gauge,x)
    Показывает горизонтальный индикатор. m_scrol - объект
    горизонтального индикатора, а x значение от 0 до 1.
    Возвращает объект горизонтального индикатора.
 DISPSCROLL(m_scroll,x)
    Показывает вертикальный индикатор. m_scrol - объект
    вертикального индикатора, а x значение от 0 до 1.
    Возвращает T, если все успешно , иначе F.
 INITGAUGE(m_str,m_mode,ltop,lleft,lbottom,lRight)
    Создание объекта горизонтального индикатора, где
    m_str - название горизонтального индикатора;
    m_mode - определяет расположение индикатора
        1 или отс. - top:=INT(MAXROW()/2-2);
        bottom:=top+2 left:=10 right:=MAXCOL()-10
        /10,12,10,69/;
        2 - top:=MAXROW()-5 bottom:=top+2 left:=10
        right:=MAXCOL()-10 /20,22,10,69/;
        3 - top:=ltop bottom:=lleft left:=lbottom n_right:=lright
    ltop,lleft,lbottom,lRight - определяют месторасположение
    индикатора для м_моde==3;
    Возвращает объект горизонтального индикатора.
 INITSCROLL(top,left,bottom,clr)
    Создание объекта вертикального индикатора, где
    top,left - координаты верхнего левого угла;
    bottom - координата нижнего угла;
    clr - цвет индикатора ( по умолчанию "W/B").

    Сетевые функции

 NETDBAP(x)
    Добавляет запись в файл с временем ожидания х.
    Если х не задан по умолчанию используется значение 2с.
    Возвращает Т в случае успешного добавления, иначе F.
 NETDBINSERT()
    Вставляет пустую строку в файл.
    Возвращает Т в случае успешного завершения, иначе F.
 NETINIT(var1,var2,var3,var4)
    Позволяет изменить значения используемые по умолчанию
    функциями NET***
      var1 - для NETRLOCK
      var2 - для NETDBAP
      var3 - для NETUSE
      var4 - для NETFLOCK
    Возвращает всегда Т .
 NETFLOCK (х)
    Блокирует файл с временем ожидания х.
    Если х не задан по умолчанию используется значение 5с.
    Возвращает Т в случае успешной блокировки, иначе F.
 NETRLOCK (х)
    Блокирует запись в файл с временем ожидания х.
    Если х не задан по умолчанию используется значение 2с.
    Возвращает Т в случае успешного добавления, иначе F.
 NETUSE(new,var1,name, als,ronl,x)
    Открывает файл с временем ожидания х.
    Если х не задан по умолчанию используется значение 5с.
    Возвращает Т в случае успешного открытия , иначе передает
    управление обработчику ошибок.


    Прочие функции

 ARMERROR(Err) - Обработка ошибок выполнения, сообщение записывается
    в файл errors.arm  в директории m_exepath. Текст главной программы
    должен содержать строки следующего вида:

  local obj_error,old_err
  LOCAL m_set:=CSetAll()
DO WHILE l_while

   old_err:=ERRORBLOCK( { |obj_error|  ArmError(obj_error) } )

   BEGIN SEQUENCE
//     Вызов процедур .....
   RECOVER USING obj_error
//      Обработка аварийной ситуации ....
      DBCOMMITALL()
      CLOSE ALL
      WAclose()
      CSetAll(m_set)
      SET PRINTER TO
      SET DEVICE TO SCREEN
      asize(a_menu,0)
   END SEQUENCE
   ERRORBLOCK(old_err)
IF l_while

   // Обработка аварийной ситуации

ENDIF
ENDDO
    Сообщение выводится на экран и нажатие клавиш Alt+<C> или ESC приводит
    к снятию программы.

 MYALTCODE(chr)
    Возвращает значение ALT кода русской буквы chr
 MYCODEALT(var)
    Возвращает русскую букву chr  по ALT коду.
 MYUPPER(var)
    Возвращает русскую букву в верхнем регистре нажатой клавиши.
 RESTVAR1(m_name,tip)
    Возвращает восстановленное значение переменной m_name подсистемы
    tip из файла myvar
 SAVEPAR(m_mode)
    Для значения m_mode NIL сохраняет в стеке значения, а для
    прочих восстанавливает:
    1 - текущий ALIAS;
    2 - текущий NWINDOW;
    3 - текущий ROW();
    4 - текущий COL();
    5 - текущий READEXIT();
    6 - текущий SETCURSOR();
    7 - текущий SET(_SET_ESCAPE);
    8 - текущий RECNO();
    9 - текущий SaveScreen(0,0,MaxRow(),Maxcol()).
 SAVEVAR1(name,value,tip)
    Cохраняет значение value переменной name подсистемы
    tip в файле myvar

Библиотека LIB1

    Работа с BROWSE объектом

 RANGEBROWS(m_browse,@m_poisk2)
    Поиск в BROWSE объекте m_browse по диапазону текущего столбца
    с текущей строки.Cформированный критерий поиска сохраняется в
    m_poisk2.Возвращает всегда T.
 SCANBROWSE(m_browse,@m_poisk2)
    Поиск в BROWSE объекте m_browse по точному значению текущего
    столбца с текущей строки.Cформированный критерий поиска сох-
    раняется в m_poisk2.Возвращает всегда T.
 SEARCHBROW(m_browse,@m_poisk2)
    Поиск в BROWSE объекте m_browse по значению образца по текущему
    столбцу с текущей строки.Cформированный критерий поиска сох-
    раняется в m_poisk2.Возвращает всегда T.
 SEEKBROWSE(m_browse,@m_poisk2)
    Поиск в BROWSE объекте m_browse по значению индекса.
    Cформированный критерий поиска сохраняется в m_poisk2.
    Возвращает всегда T.
 DEALBROWSE(m_browse,m_key)
    Обработка клавиши m_key на стандартные действия с browse
    объектом.Возвращает T , если клавиша опознана и действие
    выполнено, иначе возвращает F.

    Работа с датами

 DMY(ddoc)==MyDmy(ddoc)
    Возвращает строку вид " ДД <Название месяца> ГГГГ"
     на заданном языке
 GETMONTH()
    Вводит номер месяца на заданном языке.
 NTOCDOW(n) == MyCdow(n)
    Возвращает название дня недели на заданном языке
 NTOCMONTH(n)==MyCmonth(n)
    Возвращает название месяца на заданном языке
 SETLANG(mode)
    mode==NIL - возвращает установленное значение
    mode==0   - установить русский
    mode==2   - установить украинский
    Функция всегда возвращает установленное значение языка

    Преобразование чисел

 NUMTOCHAR(Var)
    Функция возвращает значение прописью переменной var. Язык
    определяется по умолчанию. Использовать только для денежной
    еденицы.
 NUMTOSTR(m_registr,n_len,n_dec,var1,var2)
    Функция преобразует число m_registr в строку длиной n_len
    c числом цифр после запятой n_dec и отделяет разряды один
    от другого знаком var1. Дробная часть отделяется от целой
    знаком var2. По умолчанию n_len - 16 ,n_dec - столько ,
    сколько цифр после запятой , разряды отделяются знаком "'",
    целая часть отделяется от дробной знаком ".". Внимание ,
    если выводятся числя дробные и целые то точка сдвигается
    на количество цифр после запятой .Если задано n_dec , но
    дробная часть отсутствует, то точка и дробная часть не
    выводится.Возвращает итоговую строку.


 SETCHARDELIM(Var)
    Функция устанавливает разделитель между разрядами (1-й символ
    Var) и вид разделителя целой части от дробной (2-й символ
    Var) .По умолчанию значение разделителя  "'.". Возвращает
    разделитель.
 SUMTOSTR(m_registr,n_len,var1,var2)
    Функция преобразует число m_registr в строку длиной n_len
    c 2 знаками после запятой и отделяет разряды один от дру-
    гого знаком var1. Дробная часть отделяется от целой знаком
    var2. По умолчанию n_len - 16 ,разряды отделяются знаком "'".
    Возвращает итоговую строку.

    Прочие функции

 DBINSERT()
   Вставляет запись в текущий файл. Возвращает Т в случае
   успешного завершения, иначе F.
 RESTCUR()
   Восстанавливает форму и положение курсора на экране из стека.
   Возвращает всегда T.
 SAVECUR()
   Сохраняет форму и положение курсора на экране в стек.
   Возвращает всегда T.
 INITSCR(var)
   Открывает окно заданное переменной var по файлу SCREEN. Возв-
   ращает номер открытого окна.

Библиотека CALCUL

 CALC()
   Вызывает маленький калькулятор.
   Возвращает всегда T.
 CALCUL()
   Вызывает большой калькулятор.
   Возвращает всегда T.
